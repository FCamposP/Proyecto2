<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    	<f:metadata>
            <f:viewAction action="#{proyectosBean.obtenerProyectos}" />
	</f:metadata>
    <body>

        <ui:composition template="./WEB-INF/templates/templateBase.xhtml">

            <ui:define name="content">
                <div class="breadcrumb">
                    <div class="text-center">
                        <h5> TU OPCIÓN EN GENERACIÓN Y EJECUCIÓN DE CÓDIGO JAVA</h5>
                    </div>

                </div>

                <div class="container">
                    <div class="row justify-content-start">
                        <div class="col-12">
                            <div class="box-blue">
                                <div class="row">

                                </div>
                                <hr/>
                                <div class="row" >

                                    <div class="col-lg-12 col-md-12">
                                        <div class="card">
                                            <div class="card-header">
                                                <i class="fa fa-align-justify"></i> Mis proyectos
                                            </div>
                                            <div class="card-body text-center">
                              
                                                <table class="table table-responsive-sm table-striped">
                                                    <thead>
                                                        <tr>
                                                            <th colspan="2">Acciones</th>
                                                            <th>Nombre</th>
                                                            <th>Tipo</th>
                                                            <th>Fecha creación</th>
                                                            <th>Ultima actualización</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                  <h:panelGroup id="proyectosuser">
                                                      <h:form>
                                                          <ui:repeat value="#{proyectosBean.obtenerProyectos()}" var="item">
      <tr>
                                                            <td>  
                                                                <h:commandButton styleClass="btn btn-block btn-warning" value="Editar" >
                                                     
                                                <f:ajax execute="@form" render="proyectosuser" />
                                            </h:commandButton>
                                                              
                                                            
                                                            </td>
                                                            <td> 
                                          <h:commandButton styleClass="btn btn-block btn-youtube" value="Borrar" actionListener="#{proyectosBean.eliminarProyecto(item.id_proyecto)}">
                                                     
                                                <f:ajax execute="@form" render="proyectosuser" />
                                            </h:commandButton>
                                                                                                                    </td>
                                                            <td>#{item.nombre}</td>
                                                            <td>#{item.tipo}</td>
                                                            <td>#{item.fechacreacion}</td>
                                                            <td>#{item.fechaActualizacion}</td>
                                                        </tr>
                                                            </ui:repeat>   
                                                        </h:form>
                                                  
                                                </h:panelGroup>
                                                   
                                              
                                       
                                                    </tbody>
                                                </table>
                                          
                                        
<!--                                                <ul class="pagination">
                                                    <li class="page-item">
                                                        <a class="page-link" href="#">Prev</a>
                                                    </li>
                                                    <li class="page-item active">
                                                        <a class="page-link" href="#">1</a>
                                                    </li>
                                                    <li class="page-item">
                                                        <a class="page-link" href="#">2</a>
                                                    </li>
                                                    <li class="page-item">
                                                        <a class="page-link" href="#">3</a>
                                                    </li>
                                                    <li class="page-item">
                                                        <a class="page-link" href="#">4</a>
                                                    </li>
                                                    <li class="page-item">
                                                        <a class="page-link" href="#">Next</a>
                                                    </li>
                                                </ul>-->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>             

            </ui:define>
        </ui:composition>

    </body>
</html>
