<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
    
    <body>
        <ui:composition template="./WEB-INF/templates/loginTemplate.xhtml">
            <ui:define name="content">
                <!-- Muestra los modals -->
                <p:growl id="messages" showDetail="true" />

                <div class="container">
                    <br/><br/><br/><br/>

                    <div class="row justify-content-center">
                        <div class="col-md-8">
                            <div class="card-group">
                                <div class="card p-4">
                                    <div class="card-body">
                                        <h2 style="color:cornflowerblue">Wifa Projects</h2>
                                        <p class="text-muted"><h3> Inicio de sesión</h3></p>

                                        <div  class="panel-body">
                                            <h:form id="login"> 
                                                <div class="form-group">
                                                    <div class="input-group mb-3">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                                <i class="icon-user"></i>
                                                            </span>
                                                        </div>
                                                        
                                                        <h:inputText id="username" class="form-control" value="#{logine.user}" a:placeholder="Usuario" required="true"/>
                                                        <h:message for="username" id="usernameMsg"/> 
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <div class="input-group mb-4">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                                <i class="icon-lock"></i>
                                                            </span>
                                                        </div>
                                                        
                                                        <h:inputSecret id="password"  class="form-control" value="#{logine.pwd}" a:placeholder="Contraseña" required="ture"/>
                                                        <h:message for="password" id="passwordMsg"/>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-12">
                                                        <f:ajax render="msg prueba usernameMsg passwordMsg" execute="username password">
                                                            <h:commandButton value="Entrar" class="btn btn-primary px-4 btn-block" action="#{logine.validateUsernamePassword()}"/>
                                                        </f:ajax>
                                                    </div>

                                                </div>
                                                
                                                <h:panelGroup layout="block" class="alert alert-#{loginBean.msgClass}" id="prueba">
                                                    <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
                                                    <span class="sr-only">Error----</span>
                                                    <h:outputLabel id="msg" value="#{loginBean.message}"></h:outputLabel>
                                                </h:panelGroup>
                                            </h:form> 
                                        </div>
                                    </div>
                                </div>                 
                                
                                <div class="card text-white bg-primary py-5 d-md-down-none" style="width:44%">
                                    <div class="card-body text-center">
                                        <div>
                                            <h2>¡Bienvenido!</h2>
                                            <p>Wifa es una pagina web enfocada en la facilitacion y creacion de proyectos java y bases de datos, en base a diagramas de clases y diseños de DB, todo esto en linea facil de utilizar y muy pratico!!!</p>

                                            <!-- Button to trigger modal -->
                                            <button class="btn btn-light" data-toggle="modal" data-target="#modalForm">Registrarse</button>
                                                                           
                                        </div>
                                    </div>
                                </div>
                             <!-- Modal -->
                                <div class="modal fade" id="modalForm" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
                                    <div class="modal-dialog modal-sm">
                                        <div class="modal-content">
                                            <!-- Modal Header -->
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="exampleModalLabel">Registro</h5>
                                                <button type="button" class="close" data-dismiss="modal">
                                                    <span aria-hidden="true">&times;</span>
                                                    <span class="sr-only">Close</span>
                                                </button>
                                            </div>

                                            <!-- Modal Body -->
                                            <div class="modal-body text-white bg-primary">
                                                <div class="row justify-content-center">
                                                    <h3> Ingresa tus datos </h3>
                                                    <br/><br/><br/>

                                                    <h:form id="FrmLogin">
                                                        <div class="input-group mb-3">
                                                            <div class="input-group-prepend">
                                                                <span class="input-group-text">
                                                                    <i class="icon-pin"></i>
                                                                </span>
                                                            </div>
                                                            <h:inputText id="regNom" class="form-control" value="#{logine.nombre}" a:placeholder="Nombre" required="true"/>
                                                            <!--<input id="regNom" name="user" type="text" class="form-control" placeholder="Nombre" />-->
                                                        </div>

                                                        <div class="input-group mb-3">
                                                            <div class="input-group-prepend">
                                                                <span class="input-group-text">
                                                                    <i class="icon-user"></i>
                                                                </span>
                                                            </div>
                                                            <h:inputText id="regUser" class="form-control" value="#{logine.username}" a:placeholder="Username" required="true"/>
                                                            <!--<input id="regNom" name="name" type="text" class="form-control" placeholder="Usuario" />-->
                                                        </div>

                                                        <div class="input-group mb-3">
                                                            <div class="input-group-prepend">
                                                                <span class="input-group-text">
                                                                    <i class="icon-envelope"></i>
                                                                </span>
                                                            </div>
                                                            <h:inputText id="regCorreo" class="form-control" value="#{logine.email}" a:placeholder="Email" required="true"/>
                                                            <!--<input id="regCorr" name="email" type="text" class="form-control" placeholder="Correo" />-->
                                                        </div>

                                                        <div class="input-group mb-4">
                                                            <div class="input-group-prepend">
                                                                <span class="input-group-text">
                                                                    <i class="icon-lock"></i>
                                                                </span>
                                                            </div>
                                                            <h:inputSecret id="regPass" class="form-control" value="#{logine.password}" a:placeholder="Password" required="true"/>
                                                            <!--<input id="regPass" name="password" type="password" class="form-control" placeholder="Contraseña" />-->
                                                        </div>
                                                    </h:form>    

                                                </div>
                                            </div>

                                            <!-- Modal Footer -->
                                            <div class="modal-footer justify-content-center">
                                                <h:form>
                                                    <f:ajax render="" execute="">
                                                        <div class="close" data-dismiss="modal">
                                                        <h:commandButton value="Registrarse" class="btn btn-primary px-4 btn-block" action="#{logine.registrarse()}"/>
                                                </div>
                                                    </f:ajax>
                                                </h:form>
                                                    <!--<button type="button" class="btn btn-primary submitBtn" >Registrarse</button>-->
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </ui:define>
        </ui:composition>
    </body>
</html>





